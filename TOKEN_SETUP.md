# Настройка токенов для бота Pachka

## Проблема
Бот использует два типа токенов:
1. **Webhook токен** (начинается с `pachca_wh_`) - для получения входящих сообщений и отправки в общий канал
2. **API токен** (начинается с `pachca_`) - для отправки сообщений в конкретный чат

## Решение

### 1. Настройка файла .env

Создайте или обновите файл `.env` в корне проекта:

```bash
# Webhook токен (для получения сообщений и отправки в общий канал)
PACHKA_TOKEN=pachca_wh_7XgzWy3fEnBzyi7wX9khCXBWFNTnjvTetLu7t7TwzfY5DgjgvESMX1LXlswKdpGj

# API токен (для отправки сообщений в конкретный чат)
PACHKA_API_TOKEN=pachca_ваш_api_токен_здесь
```

### 2. Получение API токена

1. Откройте Pachka
2. Перейдите в настройки вашего бота
3. Выберите "Автоматизации" → "API"
4. Создайте новый API токен (не webhook токен)
5. API токен должен начинаться с `pachca_`, а не `pachca_wh_`

### 3. Обновление конфигурации

После получения API токена:

```bash
# Остановите бота
pkill -f "python.*bot.py"

# Обновите файл .env с новым API токеном
nano .env

# Запустите бота
python3 llms_bot_pachka/bot.py
```

### 4. Тестирование

1. Отправьте команду `/start` в чат
2. Проверьте логи бота
3. Сообщение должно появиться в чате

## Примечания

- Webhook токен используется для:
  - Получения входящих сообщений
  - Отправки тестового сообщения "bot is running and ready to work"
  - Отправки сообщений в общий канал

- API токен используется для:
  - Отправки сообщений в конкретный чат (ответы на команды)

Без API токена бот не сможет отвечать на команды в конкретном чате. 